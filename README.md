# Бот телеграм, для пополнения баланса используя QIWI-кошелек. Подключается к PostgreSQL и Redis и реализует следующие API:

1. По команде `/start` выставляет счет на оплату (на кнопке "Счет"). При нажатие кнопки "Проверка", проверяет оплату, и в случае оплаты счета пополняет баланс пользователя. Сумму для оплаты вводить в формате: `1.11`

2. По команде `/admin` (при наличии прав доступа) заходит в админку с заданными методами.

3. Админка предлагает:
    - выгрузка пользователей с их балансом
    - выгрузка логов
    - возможность изменить баланс пользователя
    - возможность заблокировать пользователя (бот перестает обрабатывать сообщение пользователя)

4. Процесс изменения баланса и блокировки пользователя можно прервать командой `/Отмена`

## Установка проекта на локальный компьютер:

4. Клонировать репозиторий:

```
https://github.com/suband74/kerka-bot
```
5. Создать бота телеграм и получить токен

6. Получит токен QIWI-кошелька

7. Создать в корне проекта файл `.env` и внести: `ID = ваш телеграм_id (для доступа к админке)` и `PRIVED = ваш токен QIWI` и `BOT_TOKEN`

8. Установить docker и docker-compose. Инструкции по установке доступны в официальной документации.

8. В папке с проектом выполнить команду:

```
docker-compose up
```

9. Бот запустится в режиме поллинга.